(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{36:function(e,a,n){e.exports=n(93)},41:function(e,a,n){},93:function(e,a,n){"use strict";n.r(a);var t=n(0),i=n.n(t),o=n(32),r=n.n(o),s=(n(41),n(9)),l=n(3),c=n(4),d=n(7),u=n(5),h=n(8),m=n(6),p=n.n(m),v=n(35),f=(n(91),function(e){function a(){var e,n;Object(l.a)(this,a);for(var t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return(n=Object(d.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(o)))).state={},n.knobContainer=i.a.createRef(),n.knob=null,n.handleChange=function(e){n.props.onChange(e)},n}return Object(h.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){this.knob;var e=this.knobContainer,a=this.handleChange,n=this.props,t=n.min,i=n.max,o=n.step,r=n.color,s=n.initial,l=n.dragResistance;new v.FLStandardKnob(e.current,{min:t,max:i,step:o,color:r,initial:s,dragResistance:l}).addEventListener("change",function(e){a(e.target.value)})}},{key:"render",value:function(){var e=this.props,a=e.label,n=e.classes;return i.a.createElement("div",{className:n.wrapper},i.a.createElement("div",{ref:this.knobContainer}),i.a.createElement("div",null,a))}}]),a}(t.Component)),g=p()({wrapper:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",userSelect:"none"}})(f),b=window.maximJs,w=function(e){function a(){var e,n;Object(l.a)(this,a);for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(i)))).state={osc:new b.maxiOsc,lfo:new b.maxiOsc,wave:null},n.waveNames=["sinewave","triangle","sawn","square"],n.initialFreq=171,n.initialMix=.2,n.initialLFOFreq=1,n.handleWaveChange=function(e){var a=n.waveNames[e],t=n.state.osc[a];n.props.onWaveChange(t.bind(n.state.osc),a,n.props.index)},n.handleLFOWaveChange=function(e){var a=n.waveNames[e],t=n.state.lfo[a];n.props.onLFOWaveChange(t.bind(n.state.lfo),a,n.props.index)},n.handleFreqChange=function(e){n.props.onFreqChange(e,n.props.index)},n.handleLFOFreqChange=function(e){n.props.onLFOFreqChange(e,n.props.index)},n.handleMixChange=function(e){n.props.onMixChange(e,n.props.index)},n}return Object(h.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this.waveNames[0],a=this.state.osc[e],n=this.waveNames[0],t=this.state.lfo[e];this.setState({wave:a},this.props.onOscSet(a.bind(this.state.osc),e,this.initialFreq,this.initialMix,t.bind(this.state.lfo),n,this.initialLFOFreq))}},{key:"render",value:function(){var e=this.props.classes;return i.a.createElement("div",{className:e.module},i.a.createElement(g,{initial:0,min:0,max:3,step:1,label:"Wave",color:"#4ecca3",dragResistance:100,onChange:this.handleWaveChange}),i.a.createElement(g,{initial:this.initialFreq,min:0,max:600,step:1,label:"Frequency",color:"#4ecca3",dragResistance:200,onChange:this.handleFreqChange}),i.a.createElement(g,{initial:0,min:0,max:3,step:1,label:"LFO",color:"#4ecca3",dragResistance:100,onChange:this.handleLFOWaveChange}),i.a.createElement(g,{initial:this.initialLFOFreq,min:0,max:300,step:1,label:"LFO Frequency",color:"#4ecca3",dragResistance:200,onChange:this.handleLFOFreqChange}),i.a.createElement(g,{initial:this.initialMix,min:0,max:.3,step:.01,label:"Mix",color:"#4ecca3",dragResistance:200,onChange:this.handleMixChange}))}}]),a}(t.Component),x=p()({module:{backgroundColor:"#393e46",color:"#eeeeee",flex:"1 0 10rem",justifyContent:"center",alignItems:"center",display:"flex",borderRadius:"0.5rem",padding:"1rem",boxShadow:"0 1px 5px rgba(0, 0, 0, 0.46)",margin:"0.5rem 0"}})(w),C=function(e){function a(){var e,n;Object(l.a)(this,a);for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(i)))).state={},n.setCanvasRef=function(e){n.canvas=e,n.context=e.getContext("2d")},n}return Object(h.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this.canvas,a=this.context,n=e.getBoundingClientRect().width,t=n/4;e.width=n,e.height=t,a.strokeStyle="#4ecca3",a.fillStyle="#4ecca3";var i=n/1024;!function e(){if(a.clearRect(0,0,n,t),window.drawOutput)for(var o=0;o<1024;o++)a.beginPath(),a.moveTo(o*i,t/2),a.lineTo(o*i,t/2+window.drawOutput[o]*t),a.stroke(),a.closePath();requestAnimationFrame(e)}()}},{key:"render",value:function(){var e=this.props.classes;return i.a.createElement("div",null,i.a.createElement("canvas",{ref:this.setCanvasRef,className:e.canvas}))}}]),a}(t.Component),O=p()({canvas:{marginTop:"2rem",width:"100%"}})(C),F=function(e){function a(){var e,n;Object(l.a)(this,a);for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(i)))).state={modules:[],modulesNumber:0},n.addModule=function(){if(!window.audio){window.drawOutput=[];var e=new b.maxiAudio;window.audio=e,e.init(),e.play=function(){this.output=0}}n.setState({modulesNumber:n.state.modulesNumber+1})},n.handleOscSet=function(e,a,t,i,o,r,l){var c=Object(s.a)(n.state.modules);c.push({wave:e,waveName:a,freq:t,mix:i,lfo:o,lfoName:r,lfoFreq:l}),n.setState({modules:c})},n.handleWaveChange=function(e,a,t){var i=Object(s.a)(n.state.modules),o=i[t];o.waveName!==a&&(o.wave=e,o.waveName=a,n.setState({modules:i}))},n.handleFreqChange=function(e,a){var t=Object(s.a)(n.state.modules);t[a].freq=Number(e),n.setState({modules:t})},n.handleLFOFreqChange=function(e,a){var t=Object(s.a)(n.state.modules);t[a].lfoFreq=Number(e),n.setState({modules:t})},n.handleMixChange=function(e,a){var t=Object(s.a)(n.state.modules);t[a].mix=Number(e),n.setState({modules:t})},n.handleLFOWaveChange=function(e,a,t){var i=Object(s.a)(n.state.modules),o=i[t];o.lfoName!==a&&(o.lfo=e,o.lfoName=a,n.setState({modules:i}))},n}return Object(h.a)(a,e),Object(c.a)(a,[{key:"componentDidUpdate",value:function(e,a){var n=this.state,t=n.modules,i=n.modulesNumber;if(t!==a.modules){var o,r,s,l,c,d,u=i,h=0,m=0;window.audio&&(window.audio.play=function(){if(m++,h=0,u>0){for(var e=0;e<u;e++)o=t[e],r=o.wave,s=o.freq,c=o.lfo,d=o.lfoFreq,l=o.mix,h+=r(s)*c(d)*l;this.output=h/u*2*.6,window.drawOutput[m%1024]=h/u*2}})}}},{key:"render",value:function(){var e=this,a=this.props.classes,n=this.state.modulesNumber;return i.a.createElement("div",{className:a.app},i.a.createElement(O,null),i.a.createElement("div",{className:a.container},Array.apply(null,Array(n)).map(function(a,n){return i.a.createElement(x,{key:n,index:n,onOscSet:e.handleOscSet,onWaveChange:e.handleWaveChange,onFreqChange:e.handleFreqChange,onLFOFreqChange:e.handleLFOFreqChange,onLFOWaveChange:e.handleLFOWaveChange,onMixChange:e.handleMixChange})}),i.a.createElement("div",{className:a.addButton,onClick:this.addModule},"Add module")))}}]),a}(t.Component),y=p()({app:{},container:{margin:"0 auto",maxWidth:"900px",display:"flex",flexDirection:"column"},addButton:{cursor:"pointer",color:"#eeeeee",textAlign:"center",borderRadius:"0.5rem",marginTop:"2rem",border:"1px solid #393e46",padding:"1rem 2rem",boxShadow:"0 1px 5px rgba(0, 0, 0, 0.46)",userSelect:"none","&:hover":{boxShadow:"0 1px 3px rgba(78, 204, 163, 0.46)"}}})(F);r.a.render(i.a.createElement(y,null),document.getElementById("root"))}},[[36,2,1]]]);
//# sourceMappingURL=main.d7946280.chunk.js.map