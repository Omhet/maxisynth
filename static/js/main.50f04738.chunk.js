(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{36:function(e,a,t){e.exports=t(93)},41:function(e,a,t){},93:function(e,a,t){"use strict";t.r(a);var n=t(0),i=t.n(n),o=t(32),r=t.n(o),s=(t(41),t(9)),l=t(3),c=t(4),u=t(7),d=t(5),h=t(8),m=t(6),p=t.n(m),v=t(35),f=(t(91),function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=Object(u.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(o)))).state={},t.knobContainer=i.a.createRef(),t.knob=null,t.handleChange=function(e){t.props.onChange(e)},t}return Object(h.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){this.knob;var e=this.knobContainer,a=this.handleChange,t=this.props,n=t.min,i=t.max,o=t.step,r=t.color,s=t.initial,l=t.dragResistance;new v.FLStandardKnob(e.current,{min:n,max:i,step:o,color:r,initial:s,dragResistance:l}).addEventListener("change",function(e){a(e.target.value)})}},{key:"render",value:function(){var e=this.props,a=e.label,t=e.classes;return i.a.createElement("div",{className:t.wrapper},i.a.createElement("div",{ref:this.knobContainer}),i.a.createElement("div",null,a))}}]),a}(n.Component)),g=p()({wrapper:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",userSelect:"none"}})(f),b=window.maximJs,w=function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=Object(u.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(i)))).state={osc:new b.maxiOsc,lfo:new b.maxiOsc,wave:null},t.waveNames=["sinewave","triangle","sawn","square"],t.initialFreq=100,t.initialMix=.2,t.initialLFOFreq=2,t.handleWaveChange=function(e){var a=t.waveNames[e],n=t.state.osc[a];t.props.onWaveChange(n.bind(t.state.osc),a,t.props.index)},t.handleLFOWaveChange=function(e){var a=t.waveNames[e],n=t.state.lfo[a];t.props.onLFOWaveChange(n.bind(t.state.lfo),a,t.props.index)},t.handleFreqChange=function(e){t.props.onFreqChange(e,t.props.index)},t.handleLFOFreqChange=function(e){t.props.onLFOFreqChange(e,t.props.index)},t.handleMixChange=function(e){t.props.onMixChange(e,t.props.index)},t}return Object(h.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this.waveNames[0],a=this.state.osc[e],t=this.waveNames[0],n=this.state.lfo[e];this.setState({wave:a},this.props.onOscSet(a.bind(this.state.osc),e,this.initialFreq,this.initialMix,n.bind(this.state.lfo),t,this.initialLFOFreq))}},{key:"render",value:function(){var e=this.props.classes;return i.a.createElement("div",{className:e.module},i.a.createElement(g,{initial:0,min:0,max:3,step:1,label:"Wave",color:"#4ecca3",dragResistance:100,onChange:this.handleWaveChange}),i.a.createElement(g,{initial:this.initialFreq,min:0,max:600,step:1,label:"Frequency",color:"#4ecca3",dragResistance:200,onChange:this.handleFreqChange}),i.a.createElement(g,{initial:0,min:0,max:3,step:1,label:"LFO",color:"#4ecca3",dragResistance:100,onChange:this.handleLFOWaveChange}),i.a.createElement(g,{initial:this.initialLFOFreq,min:0,max:300,step:1,label:"LFO Frequency",color:"#4ecca3",dragResistance:200,onChange:this.handleLFOFreqChange}),i.a.createElement(g,{initial:this.initialMix,min:0,max:.3,step:.01,label:"Mix",color:"#4ecca3",dragResistance:200,onChange:this.handleMixChange}))}}]),a}(n.Component),O=p()({module:{backgroundColor:"#393e46",color:"#eeeeee",flex:"1 0 10rem",justifyContent:"center",alignItems:"center",display:"flex",borderRadius:"0.5rem",padding:"1rem",boxShadow:"0 1px 5px rgba(0, 0, 0, 0.46)",margin:"0.5rem 0"}})(w),x=function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=Object(u.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(i)))).state={},t.setCanvasRef=function(e){t.canvas=e,t.context=e.getContext("2d")},t}return Object(h.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this.canvas,a=this.context,t=e.getBoundingClientRect().width,n=t/4;e.width=t,e.height=n,a.strokeStyle="#4ecca3",a.fillStyle="#4ecca3";var i=t/1024;!function e(){if(a.clearRect(0,0,t,n),window.drawOutput.length>0)for(var o=0;o<1024;o++)a.beginPath(),a.moveTo(o*i,n/2),a.lineTo(o*i,n/2+window.drawOutput[o]*n),a.stroke(),a.closePath();requestAnimationFrame(e)}()}},{key:"render",value:function(){var e=this.props.classes;return i.a.createElement("div",null,i.a.createElement("canvas",{ref:this.setCanvasRef,className:e.canvas}))}}]),a}(n.Component),C=p()({canvas:{marginTop:"2rem",width:"100%"}})(x),F=function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=Object(u.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(i)))).state={modules:[],modulesNumber:0},t.addModule=function(){t.setState({modulesNumber:t.state.modulesNumber+1})},t.handleOscSet=function(e,a,n,i,o,r,l){var c=Object(s.a)(t.state.modules);c.push({wave:e,waveName:a,freq:n,mix:i,lfo:o,lfoName:r,lfoFreq:l}),t.setState({modules:c})},t.handleWaveChange=function(e,a,n){var i=Object(s.a)(t.state.modules),o=i[n];o.waveName!==a&&(o.wave=e,o.waveName=a,t.setState({modules:i}))},t.handleFreqChange=function(e,a){var n=Object(s.a)(t.state.modules);n[a].freq=Number(e),t.setState({modules:n})},t.handleLFOFreqChange=function(e,a){var n=Object(s.a)(t.state.modules);n[a].lfoFreq=Number(e),t.setState({modules:n})},t.handleMixChange=function(e,a){var n=Object(s.a)(t.state.modules);n[a].mix=Number(e),t.setState({modules:n})},t.handleLFOWaveChange=function(e,a,n){var i=Object(s.a)(t.state.modules),o=i[n];o.lfoName!==a&&(o.lfo=e,o.lfoName=a,t.setState({modules:i}))},t}return Object(h.a)(a,e),Object(c.a)(a,[{key:"componentDidUpdate",value:function(e,a){var t=this.state,n=t.modules,i=t.modulesNumber;if(n!==a.modules){var o,r,s,l,c,u,d=i,h=0,m=0;window.audio.play=function(){if(m++,h=0,d>0){for(var e=0;e<d;e++)o=n[e],r=o.wave,s=o.freq,c=o.lfo,u=o.lfoFreq,l=o.mix,h+=r(s)*c(u)*l;this.output=h/d*2,window.drawOutput[m%1024]=h/d*2}else this.output=0,window.drawOutput[m%1024]=this.output}}}},{key:"render",value:function(){var e=this,a=this.props.classes,t=this.state.modulesNumber;return i.a.createElement("div",{className:a.app},i.a.createElement(C,null),i.a.createElement("div",{className:a.container},Array.apply(null,Array(t)).map(function(a,t){return i.a.createElement(O,{key:t,index:t,onOscSet:e.handleOscSet,onWaveChange:e.handleWaveChange,onFreqChange:e.handleFreqChange,onLFOFreqChange:e.handleLFOFreqChange,onLFOWaveChange:e.handleLFOWaveChange,onMixChange:e.handleMixChange})}),i.a.createElement("div",{className:a.addButton,onClick:this.addModule},"Add module")))}}]),a}(n.Component),y=p()({app:{},container:{margin:"0 auto",maxWidth:"900px",display:"flex",flexDirection:"column"},addButton:{cursor:"pointer",color:"#eeeeee",textAlign:"center",borderRadius:"0.5rem",marginTop:"2rem",border:"1px solid #393e46",padding:"1rem 2rem",boxShadow:"0 1px 5px rgba(0, 0, 0, 0.46)",userSelect:"none","&:hover":{boxShadow:"0 1px 3px rgba(78, 204, 163, 0.46)"}}})(F);window.drawOutput=[];var j=new b.maxiAudio;window.audio=j,j.init(),j.play=function(){this.output=0},r.a.render(i.a.createElement(y,null),document.getElementById("root"))}},[[36,2,1]]]);
//# sourceMappingURL=main.50f04738.chunk.js.map